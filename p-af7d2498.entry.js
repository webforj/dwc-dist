/*!
 * Built by BASIS
 * Copyright BASIS International Ltd.
 */
import{r as t,c as e,h as i,H as s,g as n}from"./p-00e3df8e.js";import{i as o}from"./p-94175f2e.js";const r=class{constructor(i){t(this,i),this.infinityEvent=e(this,"dwc-infinite",7),this.loading=!1,this.completed=!1,this.icon="dwc:animated-spinner",this.root="self",this.text="Loading data"}onCompletedChanged(t){t?this.unobserve():this.observe()}onRootChanged(){this.init()}componentDidLoad(){this.init()}async update(){this.loading=!1,requestAnimationFrame((()=>{this.unobserve(),this.observe()}))}init(){this.io&&this.io.disconnect(),this.io=new IntersectionObserver((t=>{t.some((t=>t.isIntersecting))?(this.loading=!0,this.infinityEvent.emit()):this.loading=!1}),{root:("self"===this.root?this.el:this.root)||null}),this.observe()}observe(){!this.completed&&this.$sentinel&&this.io.observe(this.$sentinel)}unobserve(){this.$sentinel&&this.io.unobserve(this.$sentinel)}render(){const{src:t,pool:e,name:n}=o(this.icon);return i(s,{key:"56b1f8aef441e6556d816f6e9943868be683c4ef"},i("slot",{key:"807bfb25d0b27bce948cd8717e8c1464a1517512"}),!this.completed&&i("div",{key:"c88a560e368f07c773d08fdb76fb596d508f9ca6",ref:t=>this.$sentinel=t,part:"sentinel"},i("slot",{key:"ecdc0aab6575442dc5099d882527fef266eae28f",name:"content"},i("div",{key:"26282a5bd56397da6e71b400f8b303f6662d1f8f",part:"content",hidden:!this.icon&&!this.text},i("dwc-icon",{key:"e00ed65d8931cd1c210576ff3edb6a596c91d9b9",part:"icon",src:t,pool:e,name:n}),i("div",{key:"32d0488d375cdf7980cadb5267c95a33a9d3f9ec",part:"text",innerHTML:this.text})))))}get el(){return n(this)}static get watchers(){return{completed:["onCompletedChanged"],root:["onRootChanged"]}}};r.style=":host{box-sizing:border-box;display:block;height:inherit;outline:none;overflow-y:auto;position:relative;width:inherit}:host *,:host *::before,:host *::after{box-sizing:inherit;outline:none}:host([loading]){cursor:var(--dwc-cursor-progress)}[part=content]{align-items:center;display:flex;flex-direction:column;gap:1rem;justify-content:center;margin:var(--dwc-space-m)}[hidden]{display:none}";export{r as dwc_infinite_scroll}