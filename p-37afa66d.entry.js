/*!
 * Built by BASIS
 * Copyright BASIS International Ltd.
 */
import{r as t,h as s,H as i,g as a}from"./p-00e3df8e.js";const e=class{constructor(s){t(this,s),this.currentColumns=2,this.currentBreakpoint=null,this.breakpoints=[{minWidth:0,columns:1,name:"default"},{minWidth:"20em",columns:1,name:"small"},{minWidth:"40em",columns:2,name:"medium"}]}connectedCallback(){this.handleResize=this.handleResize.bind(this),this.handleMutations=this.handleMutations.bind(this),this.setupResizeObserver(),this.setupMutationObserver()}disconnectedCallback(){this.resizeObserver.disconnect(),this.mutationObserver.disconnect()}componentDidLoad(){this.updateLayout()}setupResizeObserver(){this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.el)}setupMutationObserver(){this.mutationObserver=new MutationObserver(this.handleMutations);const t={attributes:!0};(this.el?Array.from(this.el.children):[]).forEach((s=>{this.mutationObserver.observe(s,t)}))}convertToPixels(t){if("number"==typeof t)return t;{const s=document.createElement("div");s.style.width=t,document.body.appendChild(s);const i=s.clientWidth;return document.body.removeChild(s),i}}updateLayout(){((this.el?Array.from(this.el.children):[])||[]).forEach((t=>{let s=null,i=null;this.currentBreakpoint&&(s=t.getAttribute(`data-span-${this.currentBreakpoint}`),i=t.getAttribute(`data-column-${this.currentBreakpoint}`)),s||(s=t.getAttribute("data-span"));let a=s?parseInt(s,10):1;a>this.currentColumns&&(a=this.currentColumns),t.style.gridColumn=`span ${Math.min(a,this.currentColumns)}`,i||(i=t.getAttribute("data-column"));let e=i?parseInt(i,10):-1;e>=1&&(e>this.currentColumns&&(e=this.currentColumns),t.style.gridColumn=`${e} / span ${Math.min(a,this.currentColumns)}`)}))}handleResize(){const t=this.el.clientWidth,s=this.breakpoints.slice().reverse().find((s=>t>=this.convertToPixels(s.minWidth)));s?(this.currentColumns=s.columns,this.currentBreakpoint=s.name||null):(this.currentColumns=1,this.currentBreakpoint=null),this.updateLayout()}handleMutations(t){for(const s of t)if("attributes"===s.type){const t=s.attributeName;if(t.startsWith("data-span")||t.startsWith("data-column")){this.updateLayout();break}}}render(){const t=this.currentColumns.toString();return s(i,{key:"539f8f554864ac35e8c1e0f242656f204ad6feaa","data-columns":t,"data-breakpoint":this.currentBreakpoint||""},s("div",{key:"287f277c901f8fb482c61ddaa3380c6352be2dd2",part:"control",style:{"--columns":t}},s("slot",{key:"35cc01ce4f8d191443930ef2f4fd09f950e668d2",onSlotchange:this.updateLayout})))}get el(){return a(this)}};e.style=":host{display:block}[part=control]{align-items:var(--dwc-columns-layout-vertical-alignment, auto);display:grid;grid-column-gap:var(--dwc-columns-layout-horizontal-spacing, 1em);grid-row-gap:var(--dwc-columns-layout-vertical-spacing, 1em);grid-template-columns:repeat(var(--columns, 2), 1fr);justify-items:var(--dwc-columns-layout-horizontal-alignment, auto)}::slotted(*){grid-column:span 1}";export{e as dwc_columns_layout}