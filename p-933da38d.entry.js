/*!
 * Built by BASIS
 * Copyright BASIS International Ltd.
 */
import{r as e,c as t,h as i,H as s,g as n}from"./p-00e3df8e.js";import{i as o}from"./p-94175f2e.js";const r=class{constructor(i){e(this,i),this.infinityEvent=t(this,"dwc-infinite",7),this.loading=!1,this.completed=!1,this.icon="dwc:animated-spinner",this.root="self",this.text="Loading data"}onCompletedChanged(e){e?this.unobserve():this.observe()}onRootChanged(){this.init()}componentDidLoad(){this.init()}async update(){this.loading=!1,requestAnimationFrame((()=>{this.unobserve(),this.observe()}))}init(){this.io&&this.io.disconnect(),this.io=new IntersectionObserver((e=>{e.some((e=>e.isIntersecting))?(this.loading=!0,this.infinityEvent.emit()):this.loading=!1}),{root:("self"===this.root?this.el:this.root)||null}),this.observe()}observe(){!this.completed&&this.$sentinel&&this.io.observe(this.$sentinel)}unobserve(){this.$sentinel&&this.io.unobserve(this.$sentinel)}render(){const{src:e,pool:t,name:n}=o(this.icon);return i(s,{key:"511e413b6282ce3cf14c71e08012a3cad326d2f4"},i("slot",{key:"eef7c0ffb43595f9111cae461755746e94547d65"}),!this.completed&&i("div",{key:"9352bb08db78e55dd58b2dcd66515afef72ac2b6",ref:e=>this.$sentinel=e,part:"sentinel"},i("slot",{key:"ea4e59509fde4ee5f281ae1eba32f143f587ea38",name:"content"},i("div",{key:"7313f1c7a5511a51f4f2fb1c1326d78e22d73b61",part:"content",hidden:!this.icon&&!this.text},i("dwc-icon",{key:"311d788044367a7168b2c058792c55a7fc2e8968",part:"icon",src:e,pool:t,name:n}),i("div",{key:"2c60df88813fed2553ef5d2bfca26c605c538edd",part:"text",innerHTML:this.text})))))}get el(){return n(this)}static get watchers(){return{completed:["onCompletedChanged"],root:["onRootChanged"]}}};r.style=":host{box-sizing:border-box;display:block;height:inherit;outline:none;overflow-y:auto;position:relative;width:inherit}:host *,:host *::before,:host *::after{box-sizing:inherit;outline:none}:host([loading]){cursor:var(--dwc-cursor-progress)}[part=content]{align-items:center;display:flex;flex-direction:column;gap:1rem;justify-content:center;margin:var(--dwc-space-m)}[hidden]{display:none}";export{r as dwc_infinite_scroll}