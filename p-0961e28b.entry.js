/*!
 * Built by BASIS
 * Copyright BASIS International Ltd.
 */
import{r as t,c as i,h as r,H as e,g as o}from"./p-00e3df8e.js";import{D as a}from"./p-5440a118.js";import{D as s}from"./p-d533ee6a.js";import{h as n}from"./p-3e9fe89f.js";import{D as c,a as d,b as h}from"./p-b9ac3f72.js";import{S as l}from"./p-7ccdab1d.js";let p=0;const u=class{constructor(r){t(this,r),this.modifiedEvent=i(this,"dwc-modified",7),this.focusedEvent=i(this,"dwc-focused",7),this.blurredEvent=i(this,"dwc-blurred",7),this.validatedEvent=i(this,"dwc-validated",7),this.inputId="cedit-"+ ++p,this.isMouseInComponent=!1,this.lastSelectionStart=0,this.lastSelectionEnd=0,this.oldValue="",this.validationExpressionEngine=new a("BBjCEdit<dwc-textarea> Validation",["x","value","text","component","control"]),this.builtinInvalidMessage="",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.autoValidate=!0,this.autoValidateOnLoad=!1,this.autoWasValidated=!1,this.cols=20,this.disabled=!1,this.expanse="m",this.hasFocus=!1,this.helperText=void 0,this.highlightBehaviors=[],this.invalid=!1,this.invalidMessage="",this.insertMode=!0,this.label=void 0,this.maxlength=void 0,this.maxLineCount=void 0,this.maxLineLength=void 0,this.minlength=void 0,this.name=void 0,this.placeholder=void 0,this.predictedValue="",this.readonly=!1,this.required=!1,this.rows=void 0,this.spellcheck=!1,this.tabTraversable=0,this.validator=void 0,this.validationIcon="dwc:info",this.validationPopoverDistance=6,this.validationPopoverSkidding=0,this.validationPopoverPlacement="bottom",this.validationStyle="popover",this.valid=!1,this.value="",this.wrap="off"}onLimitsChanged(){this.value=this.validateValue(this.value)}onValueChanged(){this.value=this.validateValue(this.value),this.autoValidate&&this.validate()}connectedCallback(){var t;this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.handleKeyup=this.handleKeyup.bind(this),this.handleInput=this.handleInput.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleScroll=this.handleScroll.bind(this),null===(t=this.slotsObserver)||void 0===t||t.connect()}disconnectedCallback(){var t;null===(t=this.slotsObserver)||void 0===t||t.disconnect()}componentWillLoad(){this.slotsObserver=new l(this.el,"helper-text"),this.value=this.validateValue(this.value)}componentDidLoad(){null!=window.applyFocusVisiblePolyfill&&window.applyFocusVisiblePolyfill(this.el.shadowRoot),this.autoValidateOnLoad&&requestAnimationFrame((()=>this.validate())),this.handleScroll()}onWindowKeyup(t){9===(t.keyCode?t.keyCode:t.which)&&this.hasFocus&&(this.highlightBehaviors||[]).indexOf(s.KEY)>-1&&this.selectAll()}async setFocus(){this.$input.disabled=this.disabled,this.$input.focus();try{this.$input.setSelectionRange(this.lastSelectionStart,this.lastSelectionEnd)}catch(t){}!this.isMouseInComponent&&(this.highlightBehaviors||[]).indexOf(s.REQUEST)>-1&&this.selectAll()}async removeFocus(){this.$input.blur(),this.isMouseInComponent=!1}async selectAll(){this.disabled||this.readonly||await this.setSelectionRange(0,this.$input.value.length)}async setSelectionRange(t,i){if(!this.disabled&&!this.readonly)try{this.$input.setSelectionRange(t,i)}catch(t){}}async getSelectionRange(){return{start:this.$input.selectionStart||0,end:this.$input.selectionEnd||0}}async setCursorPos(t){if(!this.disabled&&!this.readonly)try{this.$input.setSelectionRange(t,t+1)}catch(t){}}async getCursorPos(){return this.disabled&&this.readonly||!this.hasFocus?0:this.$input.selectionStart}async getPart(t){return new Promise((i=>{i(this.el.shadowRoot.querySelector(`[part~="${t}"]`))}))}async validate(){let t=!0;if(this.validator){const i=this.value,r=this.el;t=this.validationExpressionEngine.evaluate(this.validator,{x:i,value:i,text:i,component:r,control:r})}else try{t=this.$input.checkValidity(),this.builtinInvalidMessage=this.$input.validationMessage}catch(t){}return this.invalid=!t,this.validatedEvent.emit(t),this.invalid&&(this.valid=!1),!this.invalid&&this.autoWasValidated&&(this.valid=!0),t}handleMouseEnter(){this.isMouseInComponent=!0}handleMouseLeave(){this.isMouseInComponent=!1}handleFocus(){this.hasFocus=!0;try{this.$input.setSelectionRange(this.lastSelectionStart,this.lastSelectionEnd)}catch(t){}this.isMouseInComponent&&(this.highlightBehaviors||[]).indexOf(s.MOUSE)>-1&&this.selectAll(),this.focusedEvent.emit()}handleBlur(){this.lastSelectionStart=this.$input.selectionStart,this.lastSelectionEnd=this.$input.selectionEnd,this.hasFocus=!1,this.blurredEvent.emit()}handleKeydown(t){var i;this.oldSelectionStart=this.$input.selectionStart,this.oldSelectionEnd=this.$input.selectionEnd,(null===(i=this.predictedValue)||void 0===i?void 0:i.trim().length)>0&&("Tab"!==t.key&&"ArrowRight"!==t.key||(t.preventDefault(),this.value=this.predictedValue,this.predictedValue="",this.oldSelectionStart=this.oldSelectionEnd=this.value.length),"Escape"===t.key&&(t.preventDefault(),this.predictedValue="")),this.oldValue=this.$input.value}handleInput(t){const i=this.$input,r=["insertReplacementText","insertText"].indexOf(t.inputType)>-1,e=!this.insertMode&&r,o=this.oldValue,a=this.oldSelectionStart,s=this.oldSelectionEnd;let n=i.selectionStart,c=i.selectionEnd,d=i.value;this.predictedValue="",!e||0===a&&s===o.length||(d=d.substring(0,a+1)+d.substring(a+2),n=a+1,c=a+1),d=this.validateValue(d),i.value=d,this.value=d,this.oldValue=this.value=d,i.setSelectionRange(n,c),o!==d&&(n>d.length&&(n=d.length),c>d.length&&(c=d.length),i.setSelectionRange(n,c)),this.oldSelectionStart=n,this.oldSelectionEnd=c,this.fireModifiedEvent()}handleKeyup(t){"Insert"===t.key&&(this.insertMode=!this.insertMode)}handleScroll(){this.$predictedValueInput&&(this.$predictedValueInput.scrollTop=this.$input.scrollTop,this.$predictedValueInput.scrollLeft=this.$input.scrollLeft)}fireModifiedEvent(){this.readonly||this.disabled||this.modifiedEvent.emit(this.value)}validateValue(t){if(this.maxLineCount>=0){const i=t.length;let r=0,e=0;for(e=0;e<i&&r<this.maxLineCount;++e)"\n"==t.charAt(e)&&++r;e<i&&(t=t.substring(0,e))}if(this.maxLineLength>=0){const i=t.split("\n");let r=!1;for(let t=0;t<i.length;++t)i[t].length>this.maxLineLength&&(i[t]=i[t].substring(0,this.maxLineLength),r=!0);if(r){t="";for(let r=0;r<i.length;++r)t=t+i[r]+"\n"}}if(t.length>this.maxlength&&(t=t.substring(0,this.maxlength)),this.maxLineCount>=0&&t.length>0)if(1==this.maxLineCount)t.endsWith("\n")&&(t=t.substring(0,t.length-1));else{let i=0;for(let r=0;r<t.length;++r)"\n"==t.charAt(r)&&++i;i>=this.maxLineCount&&(t=t.substring(0,t.length-1))}return t}render(){var t,i,o;const a=!this.validator,s=(null===(t=this.invalidMessage)||void 0===t?void 0:t.trim().length)>0,l=a?s?this.invalidMessage:this.builtinInvalidMessage:s?this.invalidMessage:"",p=this.invalid&&(null==l?void 0:l.trim().length)>0,u=(this.label||"").trim(),w=this.label&&this.label.length>0,v=(null===(i=this.helperText)||void 0===i?void 0:i.trim().length)>0||this.slotsObserver.hasContent("helper-text");return r(e,{key:"80e0c782332b01ab5ddf31845a76727f5c5ecc10","data-has-label":w,class:n({BBjControl:!0,BBjCEdit:!0,"bbj-disabled":this.disabled,"bbj-focused":this.hasFocus,"bbj-readonly":this.readonly,"bbj-hasLabel":w,"bbj-valid":this.valid,"bbj-invalid":this.invalid,"bbj-required":this.required})},r("div",{key:"19b064a61e178fddd7af3222493c90c2feef22bb",part:"control"},u.length>0&&r("label",{key:"bc96fdff51ec98b09819c0aeec03b6af5c193306",part:"label",htmlFor:this.inputId,innerHTML:u}),r("div",{key:"288e9d7d82ad0b9b6892677e93d7f965bc06744d",part:"input-wrapper"},(null===(o=this.predictedValue)||void 0===o?void 0:o.trim().length)>0&&r("textarea",{key:"d74ffe6e22b11a3b8c5309a5df00f7f59a720b7c",ref:t=>this.$predictedValueInput=t,part:"input input-predicted",autocorrect:"off",autocapitalize:"off",disabled:this.disabled,readOnly:!0,spellcheck:!1,tabIndex:-1,cols:this.cols,rows:this.rows,wrap:this.wrap,value:this.predictedValue}),r("textarea",{key:"279819ed89bc88399801c23e001c39c2bfe9330b",id:this.inputId,ref:t=>this.$input=t,part:"input",autocomplete:this.autocomplete,autocorrect:this.autocorrect,autocapitalize:"off",autoFocus:this.autofocus,disabled:this.disabled,minLength:this.minlength,name:this.name,placeholder:this.placeholder,readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,value:this.value,tabIndex:this.disabled?-1:this.tabTraversable,cols:this.cols,rows:this.rows,wrap:this.wrap,"aria-describedby":"helper-text",onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onInput:this.handleInput,onKeyUp:this.handleKeyup,onKeyDown:this.handleKeydown,onScroll:this.handleScroll})),"popover"===this.validationStyle&&p&&r(h,{key:"979de18cfd26c974abb03d4f083cae05b86f44ef",invalidMessage:l,icon:this.validationIcon,hasFocus:this.hasFocus,popoverDistance:this.validationPopoverDistance,popoverPlacement:this.validationPopoverPlacement,popoverSkidding:this.validationPopoverSkidding})),r(d,{key:"20e25ddee5d02df3b41e5da6d68e2f5dcc12eeb3",helperText:this.helperText,visible:v}),"inline"===this.validationStyle&&p&&r(c,{key:"ac5ee33d600cb82f5451a21b39b455a9a7d28ebb",invalidMessage:l,icon:this.validationIcon}))}get el(){return o(this)}static get watchers(){return{maxlength:["onLimitsChanged"],maxLineCount:["onLimitsChanged"],maxLineLength:["onLimitsChanged"],value:["onValueChanged"]}}};u.style='@charset "UTF-8";@media (prefers-reduced-motion: reduce){*,::before,::after{animation-delay:-1ms !important;animation-duration:1ms !important;animation-iteration-count:1 !important;background-attachment:initial !important;scroll-behavior:auto !important;transition-delay:0s !important;transition-duration:0s !important}}:host{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;-webkit-tap-highlight-color:transparent;text-size-adjust:100%}:host *,:host *::before,:host *::after{box-sizing:inherit}:host{--dwc-icon-size:1.3em;display:inline-block}:host(:focus),:host(:active){outline:none}:host([disabled]){cursor:var(--dwc-disabled-cursor);opacity:var(--dwc-disabled-opacity);user-select:none;pointer-events:none}:host([disabled]) *{cursor:var(--dwc-disabled-cursor);user-select:none;pointer-events:none}[part=control]{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;height:inherit;width:100%}[part=label]{align-items:center;color:var(--dwc-input-label-color, var(--dwc-color-body-text));cursor:var(--dwc-cursor-click);display:none;font-size:90%;font-weight:var(--dwc-input-label-font-weight, var(--dwc-font-weight-semibold));gap:0.3rem;height:auto;margin:0;margin-bottom:var(--dwc-space-s);text-align:left;transition:var(--dwc-transition) color}[part=label]::after{color:var(--dwc-input-required-field-indicator-color, var(--dwc-color-primary-text));opacity:0;padding:0 var(--dwc-space-xs);text-align:center;transition:opacity var(--dwc-transition);width:1em}:host([required]) [part=label]::after{content:var(--dwc-input-required-field-indicator, "â€¢");opacity:1}:host([data-has-label]) [part=label]{display:flex}[part=input-wrapper]{align-items:center;background:var(--dwc-input-background, var(--dwc-color-default-light));border:var(--dwc-input-border-width, var(--dwc-border-width)) var(--dwc-input-border-style, var(--dwc-border-style)) var(--dwc-input-border-color, var(--dwc-color-default-dark));border-radius:var(--dwc-border-radius);display:inline-flex;flex:1 1 auto;font-weight:var(--dwc-input-font-weight, var(--dwc-font-weight-semibold));height:100%;justify-content:start;overflow:hidden;position:relative;transition:var(--dwc-transition) background-color, var(--dwc-transition) color, var(--dwc-transition) border-color, var(--dwc-transition) box-shadow;vertical-align:middle;width:100%}:host(:not([disabled]):not([readonly])) [part=input-wrapper]:hover,:host(:not([disabled]):not([readonly])) [part=input-wrapper]:focus,:host(:not([disabled])) [part=input-wrapper]:hover,:host(:not([disabled])) [part=input-wrapper]:focus{background-color:var(--dwc-input-hover-background, var(--dwc-color-default-light));border-color:var(--dwc-input-hover-border-color, var(--dwc-color-primary));color:var(--dwc-input-hover-color, var(--dwc-color-on-default-text-light))}:host([has-focus]:not([disabled])) [part=input-wrapper],:host(.focus-visible:not([disabled])) [part=input-wrapper]{background-color:var(--dwc-input-hover-background, var(--dwc-color-default-light));border-color:var(--dwc-input-hover-border-color, var(--dwc-color-primary));color:var(--dwc-input-hover-color, var(--dwc-color-on-default-text-light))}:host(.focus-visible:not([disabled])) [part=input-wrapper]{box-shadow:var(--dwc-input-focus-ring, var(--dwc-focus-ring-default))}[part~=input]{appearance:none;background:none;border:unset;box-shadow:none;color:var(--dwc-input-color, currentColor);cursor:var(--dwc-cursor-text);flex:1 1 auto;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;height:100%;line-height:inherit;margin:0;min-width:0;padding:var(--dwc-space);text-align:inherit}[part~=input]::placeholder{color:var(--dwc-input-placeholder-color, var(--dwc-color-gray-60));user-select:none}[part~=input]:focus{outline:none}[part~=input]:-webkit-autofill,[part~=input]:-webkit-autofill:hover,[part~=input]:-webkit-autofill:focus,[part~=input]:-webkit-autofill:active{box-shadow:0 0 0 30px transparent inset !important}[part~=input]::selection{background:var(--dwc-input-selection-background, var(--dwc-color-primary-light));color:var(--dwc-input-selection-color, var(--dwc-color-on-primary-text-light))}:host([has-focus]:not([disabled])) [part=label]{color:var(--dwc-input-label-hover-color, var(--dwc-color-primary-text-light))}[part=prefix],[part=suffix]{cursor:default;flex:0 0 auto;text-align:center;user-select:none}[part=prefix] ::slotted(dwc-icon),[part=prefix] ::slotted(dwc-icon-button),[part=suffix] ::slotted(dwc-icon),[part=suffix] ::slotted(dwc-icon-button){display:inline-flex}[part=prefix] ::slotted(dwc-icon),[part=prefix] ::slotted(dwc-icon-button),[part=prefix] ::slotted(img){padding-left:var(--dwc-space-xs)}[part=suffix] ::slotted(dwc-icon),[part=suffix] ::slotted(dwc-icon-button),[part=suffix] ::slotted(img){padding-right:var(--dwc-space-xs)}:host ::slotted(img[slot=prefix]),:host ::slotted(img[slot=suffix]){align-items:center;display:inline-flex;flex:0 0 auto;height:var(--dwc-icon-size);vertical-align:middle;width:var(--dwc-icon-size)}dwc-alert{--dwc-alert-padding:var(--dwc-space-s) 0;margin-left:calc(var(--dwc-border-radius) / 4 + var(--dwc-border-width) * 2);text-align:left}:host([valid]),:host([invalid]){--dwc-icon-button-color:var(--dwc-input-color);--dwc-icon-button-hover-color:var(--dwc-icon-button-color);--dwc-icon-button-active-color:var(--dwc-icon-button-color)}:host([valid]:not([valid=false])){--dwc-input-label-color:var(--dwc-color-success-text);--dwc-input-label-hover-color:var(--dwc-color-success-text-light);--dwc-input-border-color:var(--dwc-color-success);--dwc-input-hover-border-color:var(--dwc-input-border-color);--dwc-input-focus-ring:var(--dwc-focus-ring-success);--dwc-input-placeholder-color:var(--dwc-color-gray-30);--dwc-input-selection-background:var(--dwc-color-success-light);--dwc-input-selection-color:var(--dwc-color-on-success-text-light);--dwc-input-required-field-indicator-color:var(--dwc-input-label-color)}:host([invalid]:not([invalid=false])){--dwc-input-label-color:var(--dwc-color-danger-text);--dwc-input-label-hover-color:var(--dwc-color-danger-text-light);--dwc-input-border-color:var(--dwc-color-danger);--dwc-input-hover-border-color:var(--dwc-input-border-color);--dwc-input-focus-ring:var(--dwc-focus-ring-danger);--dwc-input-placeholder-color:var(--dwc-color-gray-30);--dwc-input-selection-background:var(--dwc-color-danger-light);--dwc-input-selection-color:var(--dwc-color-on-danger-text-light);--dwc-alert-color:var(--dwc-input-label-color);--dwc-alert-icon-color:var(--dwc-alert-color);--dwc-input-required-field-indicator-color:var(--dwc-input-label-color)}[part=helper-text-wrapper],[part=helper-text-wrapper] ::slotted([slot=helper-text]){color:var(--dwc-color-gray-text-light);cursor:var(--dwc-cursor-text);font-size:var(--dwc-font-size-s);font-weight:var(--dwc-font-weight-normal);line-height:var(--dwc-font-line-height-s);text-align:left;transition:color 0.2s}[part=helper-text-wrapper][data-visible]{margin-left:calc(var(--dwc-border-radius) / 4 + var(--dwc-border-width) * 2);padding-top:var(--dwc-space-s)}:host([readonly]:not([data-editable])){--dwc-input-background:transparent;--dwc-input-border-color:var(--dwc-color-default-30);--dwc-input-border-style:dashed;--dwc-input-hover-background:var(--dwc-input-background);--dwc-input-hover-color:var(--dwc-input-color);--dwc-input-hover-border-color:var(--dwc-input-border-color)}:host(.bbj-transparent) [part=input-wrapper]{background:transparent !important}:host(.bbj-noborder) [part=input-wrapper]{border-color:transparent !important}:host([data-align-left]){text-align:left}:host([data-align-right]){text-align:right}:host([data-align-center]){text-align:center}:host([data-align-right]) [part=label]{justify-content:flex-end}[hidden]{display:none !important}:host{overflow:initial !important}[part=control]{display:flex;flex-flow:column nowrap;height:100%}[part=input-wrapper]{display:inline-grid;grid-template-columns:1fr}[part~=input]{grid-column-start:1;grid-row-start:1;grid-template-columns:1fr;height:100%;resize:none;white-space:break-spaces}[part~=input-predicted]{color:var(--dwc-input-predicted-color, var(--dwc-input-placeholder-color, var(--dwc-color-gray-60)));overflow:hidden !important;pointer-events:none}:host(.bbj-wordBreak-word) [part=input]{word-break:break-word}:host(.bbj-wordBreak-all) [part=input]{word-break:break-all}:host(.bbj-no-overflow-x) [part=input]{overflow-x:hidden}:host(.bbj-no-overflow-y) [part=input]{overflow-y:hidden}:host(.bbj-no-overflow) [part=input]{overflow:hidden}:host([expanse=xl]) [part=input-wrapper],:host([expanse=xl]) [part=label]{font-size:var(--dwc-font-size-xl);line-height:var(--dwc-font-line-height-xl)}:host([expanse=l]) [part=input-wrapper],:host([expanse=l]) [part=label]{font-size:var(--dwc-font-size-l);line-height:var(--dwc-font-line-height-l)}:host([expanse=m]) [part=input-wrapper],:host([expanse=m]) [part=label]{font-size:var(--dwc-font-size-m);line-height:var(--dwc-font-line-height-m)}:host([expanse=s]) [part=input-wrapper],:host([expanse=s]) [part=label]{font-size:var(--dwc-font-size-s);line-height:var(--dwc-font-line-height-s)}:host([expanse=xs]) [part=input-wrapper],:host([expanse=xs]) [part=label]{font-size:var(--dwc-font-size-xs);line-height:var(--dwc-font-line-height-xs)}:host(.bbj-transparent) [part=input-wrapper]{background:transparent !important}:host(.bbj-noborder) [part=input-wrapper]{border-color:transparent !important}';export{u as dwc_textarea}